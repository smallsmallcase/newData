<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>register</title>
</head>
<body>
<form id="form" action="/register.form" >
    用户名<input id="user_name" name="user_name"><span style="display: none">用户名不能为空</span>
    密码<input id="password" name="password" type="password"><span style="display: none">密码不能为空</span>
    重复密码<input id="re-password" name="re-password" type="password"><span style="display: none">两次密码输入不相同</span>
</form>
<button id="btn">提交</button>
</body>
<script src="/js/jquery-3.2.1.js">
</script>
<script>
    $(function(){
        $("#btn").click(function(){
            var formMeta = $("#form");
            var array = formMeta.serializeArray();
            var spans = formMeta.children("span");
            var mark = true;
            if (array[0].value == ""){
                $(spans[0]).show();
                mark = false;
            }
            if (array[1].value == ""){
                $(spans[1]).show();
                mark = false;
            }
            if (array[1].value != array[2].value){
                $(spans[2]).show();
                mark = false;
            }
            if (mark){
                $("#form").submit();
            }
        });

        $("#user_name").focusin(function(){
            $($("#form").children("span")[0]).hide();
        });
        $("#password").focusin(function(){
            $($("#form").children("span")[1]).hide();
        });
        $("#re-password").focusin(function(){
            $($("#form").children("span")[2]).hide();
        });
    });
</script>
</html>